@using NauAnUtLanh.Database
@using PagedList.Mvc
@model PagedList.IPagedList<Article>

@{
    ViewBag.Title = "Tin tức";
    var db = new NauAnUtLanhDbContext();
    var info = db.DefaultInfos.Find(Guid.Empty);
    ViewBag.MetaTitle = info?.CompanyName;
    ViewBag.MetaDescription = info?.MetaDescription;
    ViewBag.MetaKeywords = info?.MetaKeywords;
    ViewBag.MetaImage = Url.Content($"~/upload/{info?.MetaImage}");
}

<div class="news">
    <div class="container">
        <div class="menu-title">
            <h3>@ViewBag.Title</h3>
        </div>
        <div class="news-info">
            @{
                foreach (var article in Model)
                {
                    <div class="col-lg-6 col-md-6 col-sm-12 col-xs-12">
                        <div style="height: 350px;">
                            <div class="news-grids-left">
                                <a href="@Url.Action("details", "news", new {id = article.Id})">
                                    <img src="@Url.Content($"~/upload/article/{article.ArticleAvatar}")" alt="@article.ArticleTitle" title="@article.ArticleTitle" class="img-responsive"/>
                                </a>
                            </div>
                            <div class="news-grids-right">
                                <h5>@($"{article.CreatedTime:dd/MM/yyyy hh:mm tt}")</h5>
                                <h4>
                                    <a href="@Url.Action("details", "news", new {id = article.Id})">
                                        @article.ArticleTitle
                                    </a>
                                </h4>
                                <p>@article.ShortDescription</p>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                }
            }
        </div>
        <div class="col-md-12">
            @Html.PagedListPager(Model, page => Url.Action("index", new { page }))
        </div>
    </div>
</div>
